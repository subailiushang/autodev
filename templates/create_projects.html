{% extends 'base.html' %}
{% block content %}
    <div class="col-md-6">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5 align="center">
                    项目信息录入
                </h5>
                <div class="ibox-tools">
                    <a class="collapse-link">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                </div>
            </div>
            <div class="ibox-content">
                <form method="post" class="form-horizontal" action="#">
                    <div class="form-group">
                        <label class="col-md-2 control-label">项目名称</label>

                        <div class="col-md-6">
                            <input type="text" class="form-control" name="pname" required>
                            <span class="help-block m-b-none" style="color: red">{{ msg }}</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">项目阶段</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" name="pstage" required>
                            <span class="help-block m-b-none">例如：上线试运行，正在实施，运维</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">城市</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" name="pcity" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">运维</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" name="poperator" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">开发</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" name="pdeveloper" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">销售经理</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" name="psales" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">项目经理</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" name="pmanager" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">业务</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" name="pbusiness" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">代理商</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" name="pagent">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">实施方</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" name="pimplementer" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">项目状态</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" name="pstatus" required>
                            <span class="help-block m-b-none">例如：结项，正常，延期</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">支持方式</label>
                        <div class="col-md-6">
                            <select name="psup_type" class="form-control">
                                <option value="远程支持">远程支持</option>
                                <option value="客户现场支持">客户现场支持</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">项目进展</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" name="pprogress" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">项目开始日期</label>
                        <div class="col-md-6">
                            <input type="text" id="pstart_time" class="form-control" name="pstart_time" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">项目上线日期</label>
                        <div class="col-md-6">
                            <input type="text" id="ponline_time" class="form-control" name="ponline_time">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">项目验收日期</label>
                        <div class="col-md-6">
                            <input type="text" id="pacceptance_time" class="form-control" name="pacceptance_time">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">项目授权时长</label>
                        <div class="col-md-6">
                            <input type="text" class="form-control" name="plicense_time" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">项目授权到期日</label>
                        <div class="col-md-6">
                            <input type="text" id="plicexpire_time" class="form-control" name="plicexpire_time" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">维保到期日期</label>
                        <div class="col-md-6">
                            <input type="text" id="pexpire_time" class="form-control" name="pexpire_time">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-4 col-md-offset-4">
                            <button class="btn btn-white" type="submit">取消</button>
                            <button class="btn btn-primary" type="submit">保存</button>
                        </div>
                    </div>
                    {% csrf_token %}
                </form>
            </div>
        </div>
    </div>
{% endblock %}

{% block script %}
    <script>
        let setcalendar = function (arg) {
            $(arg).datetimepicker({
                format: 'yyyy-mm-dd',  //显示格式可为yyyymm/yyyy-mm-dd/yyyy.mm.dd
                weekStart: 1,  	//0-周日,6-周六 。默认为0
                autoclose: true,
                startView: 2,  	//打开时显示的视图。0-'hour' 1-'day' 2-'month' 3-'year' 4-'decade'
                minView: 3,  	//最小时间视图。默认0-'hour'
                initialDate: new Date(),	//初始化日期.默认new Date()当前日期
                forceParse: false,  	//当输入非格式化日期时，强制格式化。默认true
                bootcssVer: 3,	//显示向左向右的箭头
                language: 'zh-CN' //语言
            });
        };
        let pickarry = ["#pstart_time","#ponline_time","#pacceptance_time","#plicexpire_time","#pexpire_time"];
        for (let i = 0 ; i <= pickarry.length; i++) {
            setcalendar(pickarry[i]);
        }
    </script>
{% endblock %}
